<style>
/*==================内容=================*/
.contents
{
	color: #434343;
}
.contents-title
{
	height: 30px;
	line-height: 30px;
	padding-top: 80px;
	text-align: center;
	font-size: 25px;
	font-weight: bold;
}
.contents-steps
{
	padding-top: 35px;
}
.contents-steps-img
{
	width: 175px;
	height: 30px;
	margin: 0 auto;
}
.contents-steps-img-1
{
	background: url(assets/img/step1of3.png) no-repeat;
	background-size: 175px 30px;
}
.contents-steps-img-2
{
	background: url(assets/img/step2of3.png) no-repeat;
	background-size: 175px 30px;
}
.contents-steps-img-3
{
	background: url(assets/img/step3of3.png) no-repeat;
	background-size: 175px 30px;
}

.contents-next
{
	padding-top: 55px;
	padding-bottom: 80px;
	height: 34px;
	text-align: center;
}

#step-1 .contents-product
{
	width: 750px;
	margin: 0 auto;
	margin-top: 55px;
}
#step-1 .contents-product-name,.contents-product-form,.contents-product-type,.contents-product-designer
{
	margin-bottom: 40px;
	height: 30px;
	overflow: hidden;
}
.contents-product-refer
{
	/*margin-bottom: 40px;*/
	height: 30px;
}
#step-1 .left-part
{
	float: left;
	text-align: right;
	width: 180px;
	padding-right: 50px;
	height: 30px;
	line-height: 30px;
	font-weight: bold;
	font-size: 16px;
}
#step-1 .mid-part
{
	float: left;
	width: 335px;
	height: 30px;
	padding-right: 20px;
	position: relative;
}
#step-1 .mid-part input
{
	margin-top: 2px;
	padding-left: 5px;
	width: 328px;
	height: 20px;
	border-width: 1px;
	border-top: #BAB3B3 solid 2px;
}
#step-1 .mid-part select
{
	margin-top: 2px;
	width: 335px;
	height: 26px;
	border-width: 1px;
	border-top: #BAB3B3 solid 2px;
}
#step-1 .right-part
{	
	float: left;
	width: 120px;
	height: 30px;
	line-height: 30px;
	color: red;
}
#step-2 .right-part
{	
	float: left;
	width: 120px;
	height: 30px;
	line-height: 30px;
	color: red;
}
#step-1 .contents-product-designer-intro
{
	padding-left: 230px;
	margin-top: -30px;
	color: #FF3366;
	font-size: 13px;
}
#step-1 .btn-refer-add
{
	position: absolute;
	top: 0px;
	right: 22px;
	font-size: 22px;
	line-height: 26px;
	color: #333;
	cursor: pointer;
}

#step-2 .contents-logo
{
	width: 750px;
	margin: 0 auto;
	margin-top: 55px;
}
#step-2 .contents-logo-desc,.contents-logo-style
{
	margin-bottom: 40px;
	height: 30px;
	overflow: hidden;
}
#step-2 .left-part
{
	float: left;
	width: 115px;
	padding-left: 118px;
	height: 30px;
	line-height: 30px;
	font-weight: bold;
	font-size: 16px;
}
#step-2 .mid-part
{
	float: left;
	width: 335px;
	height: 30px;
	padding-right: 20px;
	position: relative;
}
#step-2 .mid-part input
{
	margin-top: 2px;
	padding-left: 5px;
	width: 328px;
	height: 20px;
	border-width: 1px;
}
#step-2 .right-part
{	
	float: left;
	width: 120px;
	height: 30px;
	line-height: 30px;
	color: red;
}
#step-2 .contents-logo-color
{
	width: 590px;
	margin-left: 118px;
	margin-bottom: 40px;
	overflow: hidden;
}
#step-2 .contents-logo-color-block
{
	float: left;
	width: 160px;
	height: 218px;
	margin-right: 35px;
	margin-bottom: 35px;
	font-size:13px;
	font-weight: bold;
}
#step-2 .color-blue
{
	background: url(assets/img/color/color-blue.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-water
{
	background: url(assets/img/color/color-water.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-green
{
	background: url(assets/img/color/color-green.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-purple
{
	background: url(assets/img/color/color-purple.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-pink
{
	background: url(assets/img/color/color-pink.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-red
{
	background: url(assets/img/color/color-red.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-orange
{
	background: url(assets/img/color/color-orange.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-gray
{
	background: url(assets/img/color/color-gray.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .color-free
{
	background: url(assets/img/color/color-free.png) no-repeat;
	background-size: 160px, 160px;
}
#step-2 .content-logo-color-title
{
	height: 30px;
	line-height: 30px;
	font-weight: bold;
	font-size: 16px;
	text-align: left;
	margin-bottom: 35px;
}
#step-2 .contents-logo-special-color
{
	padding-left: 118px;
	font-size: 20px;
	font-weight: bold;
}
#step-2 .contents-logo-special-color input
{
	margin-top: 2px;
	margin-left: 20px;
	padding-left: 5px;
	width: 110px;
	border-width: 1px;
}
#step-2 .color-block
{
	height:160px;
	width:160px;
}
#step-3 .contents-btn-group
{
	padding-top: 55px;
	padding-bottom: 80px;
	height: 34px;
	text-align: center;
}

#step-3 .contents-contact
{
	width: 750px;
	margin: 0 auto;
	margin-top: 55px;
}
#step-3 .contents-contact-div
{
	margin-bottom: 40px;
	height: 30px;
	overflow: hidden;
}
#step-3 .left-part
{
	float: left;
	width: 115px;
	padding-left: 118px;
	height: 30px;
	line-height: 30px;
	font-weight: bold;
	font-size: 16px;
}
#step-3 .mid-part
{
	float: left;
	width: 335px;
	height: 30px;
	padding-right: 20px;
	position: relative;
}
#step-3 .mid-part input
{
	margin-top: 2px;
	padding-left: 5px;
	width: 328px;
	height: 20px;
	border-width: 1px;
}
#step-3 .right-part
{	
	float: left;
	width: 120px;
	height: 30px;
	line-height: 30px;
	color: red;
}
.hide
{
	display:none;
}
.clear
{
	clear: both;
}
</style>
<section id="step-1">
<div class="contents">
	<div class="contents-title">使用该LOGO的产品信息</div>
	<div class="contents-steps">
		<div class="contents-steps-img contents-steps-img-1"></div>
	</div>
	<div class="contents-product">
		<div class="contents-product-name">
			<div class="left-part">产品名称</div>
			<div class="mid-part"><input name="product-name" type="text" /></div>
			<div id="product-name-tip" class="right-part">*</div>
		</div>
		<div class="contents-product-form">
			<div class="left-part">产品形式</div>
			<div class="mid-part">
				<select name="product-form" class="contents-product-form-select">
					<option value="web">网页</option>
					<option value="app">App</option>
					<option value="hardware">智能硬件</option>
					<option value="other">其他</option>
				</select>	
			</div>
			<div class="right-part">*</div>
		</div>
		<div class="contents-product-type">
			<div class="left-part">产品类型</div>
			<div class="mid-part">
				<select name="product-type"  class="contents-product-type-select">
					<option value="social">社交</option>
					<option value="education">教育</option>
					<option value="finance">金融</option>
					<option value="ecommerce">电子商务</option>
					<option value="game">游戏</option>
					<option value="tool">工具</option>
					<option value="service">企业服务</option>
					<option value="tourism">旅游</option>
					<option value="medical">医疗健康</option>
					<option value="o2o">O2O</option>
					<option value="harware">智能硬件</option>
					<option value="other">其他</option>
				</select>	
			</div>
			<div class="right-part">*</div>
		</div>
		<style>
			.prod-refer-list
			{
				margin-left: 230px;
				width: 335px;
				margin-bottom: 30px;
			}
			.prod-refer-list .refer-line
			{
				position: relative;
				padding-left:5px;
				height: 25px;
				line-height: 25px;
				border: 1px solid #aaa;
				margin-top:-1px;
			}
			.prod-refer-list .btn-refer-remove
			{
				position: absolute;
				top: 0px;
				right: 5px;
				font-size: 25px;
				line-height: 25px;
				color: #333;
				cursor: pointer;
			}
			.prod-refer-list .refer-link
			{
				font-size: 13px;
			}
		</style>
		<div class="contents-product-refer">
			<div class="left-part">产品竞品或参考产品</div>
			<div class="mid-part">
				<input name="product-refer" type="text" placeholder="竞品链接"/>
				<div id="btn-refer-add" class="btn-refer-add">+</div>
			</div>
			<div id="product-refer-tip" class="right-part">url以www开始</div>
		</div>
		<div id="product-refer-list"  class="prod-refer-list">
			<!-- <div class="refer-line"><span class="refer-link">www.baidu.com</span><div id="btn-refer-remove" class="btn-refer-remove">-</div></div> -->
		</div>
		<div class="contents-product-designer">
			<div class="left-part">期望设计师水平</div>
			<div class="mid-part">
				<select name="designer-level" class="contents-product-designer-select">
					<option value="five-star">五星</option>
					<option value="four-star">四星</option>
					<option value="three-star">三星</option>
				</select>
			</div>
			<div class="right-part">*</div>
		</div>
		<div class="contents-product-designer-intro">设计师水平分为三级，分别为三星，四星，五星级，星级根据<BR>设计师工作经历、作品质量、甲方评价综合评定</div>
	</div>
	<div class="contents-next">
		<button id="btn-step-1-next" class="btn">下一步</button>
	</div>
</div>
</section>
<section id="step-2" class="hide">
<div class="contents">
	<div class="contents-title">你想要的LOGO风格</div>
	<div class="contents-steps">
		<div class="contents-steps-img contents-steps-img-2"></div>
	</div>
	<div class="contents-logo">
		<div class="contents-logo-desc">
			<div class="left-part">Logo描述</div>
			<div class="mid-part"><input name="logo-desc" type="text" placeholder="例：纯文字，文字为“设计＋”" /></div>
			<div id="logo-desc-tip" class="right-part">*</div>
		</div>
		<div class="contents-logo-desc">
			<div class="left-part">风格描述</div>
			<div class="mid-part"><input name="logo-style" type="text" placeholder="例：商务、简洁、科技感" /></div>
			<div id="logo-style-tip" class="right-part">*</div>
		</div>
		<div class="contents-logo-color">
			<p class="content-logo-color-title">配色选择</p>
			<div class="contents-logo-color-block">
				<div class="color-block color-blue"></div>
				<p class="mt16">蓝色系<BR>内涵、诚信、沉稳</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-water"></div>
				<p class="mt16">水绿色系<BR>未知、清澈、精准</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-green"></div>
				<p class="mt16">绿色系<BR>成长、和谐、成功</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-purple"></div>
				<p class="mt16">紫色系<BR>幻想、尊贵、奢华</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-pink"></div>
				<p class="mt16">粉色系<BR>亲密、爱、自然</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-red"></div>
				<p class="mt16">红色系<BR>能量、运动、激情</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-orange"></div>
				<p class="mt16">桔色系<BR>创造、冒险、快乐</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-gray"></div>
				<p class="mt16">灰色系<BR>纯粹、平衡、精炼</p>
			</div>
			<div class="contents-logo-color-block">
				<div class="color-block color-free"></div>
				<p class="mt16">设计师自由把握</p>
			</div>
			<!-- 
			<div class="contents-logo-color-block " data-check="false">水绿色系<BR>未知、清澈、精准</div>
			<div class="contents-logo-color-block color-green" data-check="false">绿色系<BR>成长、和谐、成功</div>
			<div class="contents-logo-color-block color-purple" data-check="false">紫色系<BR>幻想、尊贵、奢华</div>
			<div class="contents-logo-color-block color-pink" data-check="false">粉色系<BR>亲密、爱、自然</div>
			<div class="contents-logo-color-block color-pink" data-check="false">红色系<BR>能量、运动、激情</div>
			<div class="contents-logo-color-block color-orange" data-check="false">桔色系<BR>创造、冒险、快乐</div>
			<div class="contents-logo-color-block color-gray" data-check="false">灰色系<BR>纯粹、平衡、精炼</div>
			<div class="contents-logo-color-block color-free" data-check="false">设计师自由把握</div>
			 -->
		</div>
		<div class="contents-logo-special-color">特殊颜色需求&nbsp;&nbsp;<input name="special-color-r" type="text" placeholder="R"><input name="special-color-g" type="text" placeholder="G"><input name="special-color-b" type="text" placeholder="B"><span id="color-tip" class="cr ml5"></span></div>
	</div>
	<div class="contents-next">
		<button id="btn-step-2-prev" class="btn">上一步</button>
		<button id="btn-step-2-next" class="btn">下一步</button>
	</div>
</div>
</section>
<section id="step-3" class="hide">
<div class="contents">
	<div class="contents-title">联系信息</div>
	<div class="contents-steps">
		<div class="contents-steps-img contents-steps-img-3"></div>
	</div>
	<div class="contents-contact">
		<div class="contents-contact-div">
			<div class="left-part">公司名称</div>
			<div class="mid-part"><input name="contact-company" type="text" /></div>
			<div id="contact-company-tip" class="right-part">*</div>
		</div>
		<div class="contents-contact-div">
			<div class="left-part">所在城市</div>
			<div class="mid-part"><input name="contact-city" type="text" /></div>
			<div id="contact-city-tip" class="right-part">*</div>
		</div>
		<div class="contents-contact-div">
			<div class="left-part">联系人</div>
			<div class="mid-part"><input name="contact-person" type="text" /></div>
			<div id="contact-person-tip" class="right-part">*</div>
		</div>
		<div class="contents-contact-div">
			<div class="left-part">手机号</div>
			<div class="mid-part"><input name="contact-phone" type="text" /></div>
			<div id="contact-phone-tip" class="right-part">*</div>
		</div>
		<div class="contents-contact-div">
			<div class="left-part">邮箱</div>
			<div class="mid-part"><input name="contact-email" type="text" /></div>
			<div id="contact-email-tip" class="right-part">*</div>
		</div>
	</div>
	<div class="contents-next">
		<button id="btn-step-3-prev" class="btn">上一步</button>
		<button id="btn-submit" class="btn">提交</button>
	</div>
</div>
</section>
<script>
$(document).ready(function(){
	var imgIndexArray = new Array();
	var colIndexArray = new Array();
	// 添加产品参考连接
	$('#btn-refer-add').click(function(){
		var link = $('input[name="product-refer"]').val();
		var regUrl = /([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;
		$('#product-refer-tip').text("");
		if(link == "")
		{
			$('#product-refer-tip').text('url不能为空');
			return false;
		}
		if(!regUrl.test(link))
		{
			$('#product-refer-tip').text('url非法');
			return false;
		}
		$('#product-refer-tip').text('url以www开始');
		var html = '<div class="refer-line"><span class="refer-link">'+link+'</span><div id="btn-refer-remove" class="btn-refer-remove">-</div></div>';
		$('#product-refer-list').append(html);
		$('input[name="product-refer"]').val("");
	});
	// 删除产品参考连接
	$(document).on('click','#btn-refer-remove',function(){
		$(this).parent().remove();
	});
	// 提交操作
	$("#btn-submit").click(function(){
		if($("input[name='contact-company']").val() == "")
		{
			$('#contact-company-tip').text("不能为空！");
			return false;
		}
		$('#contact-company-tip').text("√");
		if($("input[name='contact-city']").val() == "")
		{
			$('#contact-city-tip').text("不能为空！");
			return false;
		}
		$('#contact-city-tip').text("√");
		if($("input[name='contact-person']").val() == "")
		{
			$('#contact-person-tip').text("不能为空！");
			return false;
		}
		$('#contact-person-tip').text("√");
		var regPhone =/^1[3|4|5|8][0-9]\d{4,8}$/;
		var regMail = /^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/;
		var phone = $("input[name='contact-phone']").val();
		var email = $("input[name='contact-email']").val();
		if( phone == "")
		{
			$('#contact-phone-tip').text("不能为空！");
			return false;
		}
		if(!regPhone.test(phone))
		{
			$('#contact-phone-tip').text("格式错误！");
			return false;
		}
		$('#contact-phone-tip').text("√");
		if( email == "")
		{
			$('#contact-email-tip').text("不能为空！");
			return false;
		}
		if( !regMail.test(email))
		{
			$('#contact-email-tip').text("格式错误！");
			return false;
		}
		$('#contact-email-tip').text("√");
		// 提取已输入内容
		var links='';
		var k=0;
		$("#product-refer-list .refer-link").each(function(){
			if(k==0)
			{
				links+= $(this).text();
			}
			else
			{
				links+= ',' + $(this).text();
			}
			k++;
		});
		$.ajax({
            type:"POST",
            url:"/service/post_logo",
            data:{
            	imgIndex:imgIndexArray.join(","), 
            	prodName:$("input[name='product-name']").val(),
            	prodForm:$("select[name='product-form']").val(),
            	prodType:$("select[name='product-type']").val(),
            	prodRefer:links,
            	desLevel:$("select[name='designer-level']").val(),
            	logoDesc:$("input[name='logo-desc']").val(),
            	logoStyle:$("input[name='logo-style']").val(),
            	colIndex:colIndexArray.join(","),
            	contComp:$("input[name='contact-company']").val(),
            	contCity:$("input[name='contact-city']").val(),
            	contPerson:$("input[name='contact-person']").val(),
            	contPhone:$("input[name='contact-phone']").val(),
            	contEmail:$("input[name='contact-email']").val()
            },
            dataType: "json",
            success:function(data){
            	alert(data.msg); 
            	window.location.href='/service/success';        
            },
            error: function(){
            	alert("ajax提交失败");
            }         
        });
	});
	$('#btn-step-1-next').click(function(){
		//校验数据正确性
		if($("input[name='product-name']").val() == "")
		{
			$('#product-name-tip').text("请填写产品名称！");
			return false;
		}
		$('#product-name-tip').text("√");
		/*
		if($("input[name='product-refer']").val() == "")
		{
			$('#product-refer-tip').text("请填写竞品连接！");
			return false;
		}
		$('#product-refer-tip').text("√");*/
		var link = $('input[name="product-refer"]').val();
		var regUrl = /([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;
		if(link != "" && !regUrl.test(link))
		{
			$('#product-refer-tip').text('url非法');
			return false;
		}
		//隐藏第一步，打开第二步
		$("#step-1").hide();
		$("#step-2").show();
	});
	$('#btn-step-2-prev').click(function(){
		//隐藏第一步，打开第二步
		$("#step-2").hide();
		$("#step-1").show();
	});
	$('#btn-step-2-next').click(function(){
		//校验数据正确性
		if($("input[name='logo-desc']").val() == "")
		{
			$('#logo-desc-tip').text("请填写logo描述！");
			return false;
		}
		$('#logo-desc-tip').text("√");
		if($("input[name='logo-style']").val() == "")
		{
			$('#logo-style-tip').text("请填写风格描述！");
			return false;
		}
		$('#logo-style-tip').text("√");
		//检查是否选择
		var i=0,j=0;
		$("div.color-block").each(function(){
			j++;
			if($(this).hasClass('check'))
			{
				i++;
				colIndexArray.push(j);
			}
		}); 
		if(i===0)
		{
			var cr = $("input[name='special-color-r']").val();
			var cg = $("input[name='special-color-g']").val();
			var cb = $("input[name='special-color-b']").val();
			var regNum= /^[0-9]*$/;
			if( cr == "" ||  cr == "" ||  cr == "")
			{
				$('#color-tip').text("请填写完整rgb三色！");
				return false;
			}
			if(!regNum.test(cr) || !regNum.test(cg) || !regNum.test(cb))
			{
				$('#color-tip').text("请填写数字！");
				return false;
			}
		}
		
		//隐藏第一步，打开第二步
		$("#step-2").hide();
		$("#step-3").show();
	});
	$('#btn-step-3-prev').click(function(){
		$("#step-3").hide();
		$("#step-2").show();
	});
	
	// 配色选择颜色处理
	$('.color-block').click(function(){
		if( !$(this).hasClass('check') && $('.color-block.check').length>=1)
		{
			alert('只能选择一种配色！');
			return false;
		}
		//判断是否已选
		if($(this).hasClass('check'))
		{
			$(this).css('border', '0');
			$(this).css('width', '160px');
			$(this).css('height', '160px');
			$(this).removeClass("check");
		}
		else
		{
			$(this).css('width', '157px');
			$(this).css('height', '156px');
			$(this).css('border', '2px solid #ff3366');
			$(this).addClass("check");
		}
	});
});
</script>

